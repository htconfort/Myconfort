<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MYCONFORT - Facturation Professionnelle</title>
    <meta name="description" content="MYCONFORT - Syst√®me de facturation professionnelle avec signature √©lectronique et envoi automatique par email">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- html2pdf.js script -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script>
      // Fonction globale pour g√©n√©rer le PDF (votre script exact)
      function generateInvoicePDF() {
        const element = document.querySelector('.facture-apercu') || document.getElementById('invoice');
        if (!element) {
          alert('‚ùå √âl√©ment facture non trouv√©. Assurez-vous qu\'une facture est affich√©e.');
          return;
        }
        
        const opt = {
          margin: 0,
          filename: 'facture-myconfort.pdf',
          html2canvas: { scale: 2, useCORS: true },
          jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
        };
        
        console.log('üîÑ G√©n√©ration PDF avec votre script exact...');
        html2pdf().set(opt).from(element).save().then(() => {
          console.log('‚úÖ PDF g√©n√©r√© avec succ√®s !');
          alert('‚úÖ PDF t√©l√©charg√© avec succ√®s !');
        }).catch((error) => {
          console.error('‚ùå Erreur g√©n√©ration PDF:', error);
          alert('‚ùå Erreur lors de la g√©n√©ration du PDF');
        });
      }
      
      // Fonction pour envoyer l'email s√©par√©ment
      function sendEmail() {
        // Cette fonction sera appel√©e par le composant React
        console.log('üìß Fonction sendEmail appel√©e');
      }
      
      // Rendre les fonctions disponibles globalement
      window.generateInvoicePDF = generateInvoicePDF;
      window.sendEmail = sendEmail;
    </script>
  </body>
</html>